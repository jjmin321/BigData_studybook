raw_welfare <- read.spss("/Users/jejeongmin/documents/r/work/Koweps_hpc13_2018_beta1.sav", to.data.frame = T)
welfare <- raw_welfare
View(welfare)
# 가공할 데이터를 다양한 형식의 파일로 저장
write.table(welfare, "/Users/jejeongmin/documents/r/work/welfare.txt")
library(xlsx)
write.xlsx(welfare, "/users/jejeongmin/documents/r/work/welfare.xlsx")
# welfare 데이터 확인
View(welfare)
class(welfare) # "data.frame"
dim(welfare) # [1] 14923 1026
str(welfare)
#분석에 사용할 7개 변수를 추출
welfare <- welfare %>% select(h13_g3, h13_g4, h13_g10, h13_g11, p1302_8ag1, h13_eco9, h13_reg7)
#분석에 사용할 7개 변수를 추출
welfare <- welfare %>% select(h13_g3, h13_g4, h13_g10, h13_g11, p1302_8aq1, h13_eco9, h13_reg7)
View(welfare)
# 분석에 사용할 7개의 변수명 변경
welfare <- rename(welfare, sex=h13_g3, birth=h13_g4, marriage=h13_g10, religion=h13_g11, income = p1302_8aq1, code_job = h13_eco9, code_region=h13_reg7)
View(welfare)
# 변수 추출, 변수명 변경 -> 파일로 저장
write.csv(welfare, "/users/jejeongmin/documents/r/work/welfare.csv")
table(welfare$sex)
table(is.na(welfare$sex))
# 성별의 빈도
table(welfare$sex)
# 성별 변수의 값을 변경 - 1: male, 2:female
welfare$sex <- ifelse(welfare$sex==1, "male", "female")
# 성별의 빈도
table(welfare$sex)
# 성별의 빈도 - 그래프
qplot(welfare$sex)
# 1-2. 월급 변수 확인 (결측치, 이상치 확인)
table(welfare$income)
# 1-2. 월급 변수 확인 (결측치, 이상치 확인)
summary(welfare$income)
table(is.na(welfare$income))
# 이상치 데이터 판별 -> 이상치를 결측치로 변경
# 1 ~ 9998 사이의 값이 정상적인 값
welfare$income <- ifelse(welfare$income < 1 | welfare$income > 9998, NA, welfare$income)
table(is.na(welfare$income))
# 1-2. 월급 변수 확인 (결측치, 이상치 확인)
# Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's
# 0.0   140.0   212.0   263.6   342.0  4800.0   10360
summary(welfare$income)
# [2단계] 분석표(통계요약표)
# 2. 성별 별 월급의 평균 분석표
sex_income <- welfare %>% filter(!is.na(income)) %>%
group_by(sex) %>%
summarise(mean_income = mean(income)) %>%
arrange(desc)
# [2단계] 분석표(통계요약표)
# 2. 성별 별 월급의 평균 분석표
sex_income <- welfare %>% filter(!is.na(income)) %>%
group_by(sex) %>%
summarise(mean_income = mean(income))
View(sex_income)
View(sex_income)
sex_income
# [3단계] 시각화(그래프)
# 3. 성별에 따른 월급 그래프 - 막대 그래프
ggplot(data=sex_income, aes(x=sex, y=mean_income)) + geom_col()
